{
  "version": 3,
  "sources": ["src/ts/critical.ts", "src/ts/util/debounce.ts"],
  "sourcesContent": ["import { themeSet, themeGet, runTheme } from \"./modules/theme\";\n\nimport { hit } from \"countapi-js\";\nimport { debounce } from \"./util/debounce\";\n\n// countapi-js hit counter. It counts the number of time the website is loaded\n// (async () => {\n//     try {\n//         let { value } = await hit('bundle.js.org', 'visits');\n//         let visitCounterEl = document.querySelector(\"#visit-counter\");\n//         if (visitCounterEl) visitCounterEl.textContent = `(${value} Page Visits)`;\n//     } catch (err) {\n//         console.warn(\"Visit Counter Error (please create a new issue in the repo)\", err);\n//     }\n// })();\n\n// The default navbar, etc... that is needed\n(() => {\n    let canScroll = true;\n    const navbar = document.querySelector(\".navbar\") as HTMLElement;\n    window.addEventListener(\"scroll\", () => {\n        if (canScroll) {\n            let raf: number | void;\n            canScroll = false;\n            raf = requestAnimationFrame(() => {\n                navbar.classList.toggle(\"shadow\", window.scrollY >= 5);\n\n                canScroll = true;\n                raf = window.cancelAnimationFrame(raf as number);\n            });\n        }\n    }, { passive: true });\n\n    runTheme();\n\n    try {\n        // On theme switcher button click (mouseup is a tiny bit more efficient) toggle the theme between dark and light mode\n        let themeSwitch = Array.from(document.querySelectorAll(\".theme-toggle\"));\n        if (themeSwitch[0]) {\n            for (let el of themeSwitch)\n                el.addEventListener(\"click\", () => {\n                    themeSet(themeGet() === \"dark\" ? \"light\" : \"dark\");\n                });\n        }\n    } catch (e) {\n        console.warn(\"Theming seems to break on this browser.\", e);\n    }\n})();\n\n// SarchResults solidjs component\n(async () => {\n    const searchInput = document.querySelector(\".search input\") as HTMLInputElement;\n    // const host = \"https://registry.npmjs.com/\";\n    const npms = \"https://api.npms.io\"\n    const parseInput = (input: string) => {\n        let value = input;\n        let exec = /([\\S]+)@([\\S]+)/g.exec(value);\n        let search = `${value}`.replace(/^@/, \"\");\n        // let urlScheme = `${host}/-/v1/search?text=${search}&size=10&boost-exact=false`;\n        let urlScheme = `${npms}/v2/search?q=${encodeURIComponent(search)}&size=10`;\n        let version = \"\";\n\n        if (exec) {\n            let [, pkg, ver] = exec;\n            version = ver;\n            // urlScheme = `${host}/-/v1/search?text=${pkg}&size=10&boost-exact=false`;\n            urlScheme = `${npms}/v2/search?q=${encodeURIComponent(pkg)}&size=10`;\n        }\n\n        return { url: urlScheme, version }\n    };\n\n    let keydownFn = debounce(() => {\n        let { value } = searchInput;\n        if (value.length <= 0) return;\n\n        let { url, version } = parseInput(value);\n\n        (async () => {\n            let response = await fetch(url);\n            let result = await response.json();\n            setState(\n                // result.objects\n                result?.results.map(obj => {\n                    const { name, description, date, publisher } = obj.package;\n                    return {\n                        name, description,\n                        date, version,\n                        author: publisher.username\n                    };\n                }) ?? []\n            );\n        })();\n    }, 125);\n\n    searchInput?.addEventListener?.(\"keydown\", keydownFn);\n\n    const { renderComponent, setState, Emitter } = await import(\"./components/SearchResults\");\n    const SearchContainerEl = document.querySelector(\".search-results-container\") as HTMLElement;\n    if (SearchContainerEl) renderComponent(SearchContainerEl);\n\n    // Emitter.on(\"complete\", () => {\n    //     SearchContainerEl.blur()\n    // })\n\n    let clearBtn = document.querySelector(\".search .clear\");\n    clearBtn?.addEventListener(\"click\", () => {\n        searchInput.value = \"\";\n        setState([]);\n    });\n})();\n\n// highlight.js for code highlighting\n(async () => {\n    let { hljs } = await import(\"./modules/highlightjs\");\n    hljs.highlightAll();\n})();", "// Based on https://davidwalsh.name/javascript-debounce-function\n// Returns a function, that, as long as it continues to be invoked, will not\n// be triggered. The function will be called after it stops being called for\n// N milliseconds. If `immediate` is passed, trigger the function on the\n// leading edge, instead of the trailing.\nexport const debounce = (func: (...args: any[]) => any, wait: number, immediate?: boolean) => {\n\tlet timeout: number;\n\treturn function(...args: any[]) {\n\t\tlet context = this;\n\t\tlet later = () => {\n\t\t\ttimeout = null;\n\t\t\tif (!immediate) func.apply(context, args);\n        };\n        \n\t\tlet callNow = immediate && !timeout;\n\t\tclearTimeout(timeout);\n\t\ttimeout = setTimeout(later, wait);\n\t\tif (callNow) func.apply(context, args);\n\t};\n};"],
  "mappings": ";0HAAA,ICAA,IAKO,GAAM,GAAW,CAAC,EAA+B,EAAc,IAAwB,CAC7F,GAAI,GACJ,MAAO,aAAY,EAAa,CAC/B,GAAI,GAAU,KACV,EAAQ,IAAM,CACjB,EAAU,KACL,GAAW,EAAK,MAAM,EAAS,IAGjC,EAAU,GAAa,CAAC,EAC5B,aAAa,GACb,EAAU,WAAW,EAAO,GACxB,GAAS,EAAK,MAAM,EAAS,KDAnC,AAAC,KAAM,CACH,GAAI,GAAY,GACV,EAAS,SAAS,cAAc,WACtC,OAAO,iBAAiB,SAAU,IAAM,CACpC,GAAI,EAAW,CACX,GAAI,GACJ,EAAY,GACZ,EAAM,sBAAsB,IAAM,CAC9B,EAAO,UAAU,OAAO,SAAU,OAAO,SAAW,GAEpD,EAAY,GACZ,EAAM,OAAO,qBAAqB,OAG3C,CAAE,QAAS,KAEd,IAEA,GAAI,CAEA,GAAI,GAAc,MAAM,KAAK,SAAS,iBAAiB,kBACvD,GAAI,EAAY,GACZ,OAAS,KAAM,GACX,EAAG,iBAAiB,QAAS,IAAM,CAC/B,EAAS,MAAe,OAAS,QAAU,gBAGlD,EAAP,CACE,QAAQ,KAAK,0CAA2C,QAKhE,AAAC,UAAY,CAlDb,MAmDI,GAAM,GAAc,SAAS,cAAc,iBAErC,EAAO,sBACP,EAAa,AAAC,GAAkB,CAClC,GAAI,GAAQ,EACR,EAAO,mBAAmB,KAAK,GAC/B,EAAS,GAAG,IAAQ,QAAQ,KAAM,IAElC,EAAY,GAAG,iBAAoB,mBAAmB,aACtD,EAAU,GAEd,GAAI,EAAM,CACN,GAAI,CAAC,CAAE,EAAK,GAAO,EACnB,EAAU,EAEV,EAAY,GAAG,iBAAoB,mBAAmB,aAG1D,MAAO,CAAE,IAAK,EAAW,YAGzB,EAAY,EAAS,IAAM,CAC3B,GAAI,CAAE,SAAU,EAChB,GAAI,EAAM,QAAU,EAAG,OAEvB,GAAI,CAAE,MAAK,WAAY,EAAW,GAElC,AAAC,UAAY,CA9ErB,MAgFY,GAAI,GAAS,KAAM,AADJ,MAAM,OAAM,IACC,OAC5B,EAEI,oBAAQ,QAAQ,IAAI,GAAO,CACvB,GAAM,CAAE,OAAM,cAAa,OAAM,aAAc,EAAI,QACnD,MAAO,CACH,OAAM,cACN,OAAM,UACN,OAAQ,EAAU,cAL1B,OAOM,SAGf,KAEH,oBAAa,mBAAb,eAAgC,UAAW,GAE3C,GAAM,CAAE,kBAAiB,WAAU,WAAY,KAAM,QAAO,+BACtD,EAAoB,SAAS,cAAc,6BACjD,AAAI,GAAmB,EAAgB,GAMvC,GAAI,GAAW,SAAS,cAAc,kBACtC,WAAU,iBAAiB,QAAS,IAAM,CACtC,EAAY,MAAQ,GACpB,EAAS,UAKjB,AAAC,UAAY,CACT,GAAI,CAAE,QAAS,KAAM,QAAO,6BAC5B,EAAK",
  "names": []
}
