{
  "version": 3,
  "sources": ["web-worker:./workers/esbuild.ts", "src/ts/index.ts"],
  "sourcesContent": ["\n// This file is generated by esbuild to expose the worker script as a class, like Webpack's worker-loader\nexport default \"./js/esbuild.worker.js\"", "import type { editor as Editor } from \"monaco-editor\";\nimport { animate } from \"@okikio/animate\";\n\nlet loadingContainerEl = document.querySelector(\".center-container\");\nlet fileSizeEl = document.querySelector(\".file-size\");\nlet RunBtn = document.querySelector(\"#run\");\nlet bundleTime = document.querySelector(\"#bundle-time\");\nlet Fade = animate({\n    target: loadingContainerEl,\n    opacity: [1, 0],\n    delay: 1000,\n    easing: \"ease-in\",\n    duration: 500,\n    autoplay: false\n});\n\nlet editor: Editor.IStandaloneCodeEditor;\n\n// Monaco Code Editor\n(async () => {\n    let Monaco = await import(\"./modules/monaco\");\n    editor = Monaco.build();\n\n    // Fade away the loading screen\n    Fade.play();\n    await Fade;\n\n    loadingContainerEl?.remove();\n    Fade.stop();\n\n    loadingContainerEl = null;\n    Fade = null;\n\n    const { Emitter } = await import(\"./components/SearchResults\");\n    Emitter.on(\"add-module\", (v) => {\n        let value = `` + editor?.getValue();\n        editor.setValue(value + \"\\n\" + v);\n    });\n})();\n\n// esbuild bundler worker\nimport ESBUILD_WORKER_URL from \"worker:./workers/esbuild.ts\";\n(() => {\n    const timeFormatter = new Intl.RelativeTimeFormat('en', { style: 'narrow', numeric: 'auto' });\n\n    // @ts-ignore\n    const BundleWorker = new Worker(ESBUILD_WORKER_URL, {\n        name: \"esbuild-worker\",\n        type: \"module\"\n    });\n\n    let count = 0;\n    let value = \"\";\n    let start = Date.now();\n\n    RunBtn.addEventListener(\"click\", () => {\n        value = `` + editor?.getValue();\n\n        fileSizeEl.innerHTML = `<div class=\"loading\"></div>`;\n        bundleTime.textContent = ``;\n\n        start = Date.now();\n        BundleWorker.postMessage(value);\n    });\n\n    BundleWorker.onmessage = ({ data }) => {        \n        if (data.warn) {\n            console.warn(data.warn + \" \\n\");\n            return;\n        }\n\n        if (data.ready) {\n            fileSizeEl.textContent = `...`;\n            return;\n        }\n\n        if (data.error) {\n            console.error(data.type + \" (please create a new issue in the repo)\\n\", data.error);\n            fileSizeEl.textContent = `Error`;\n            return;\n        }\n\n        let { size, content } = data.value;\n\n        if (count > 10) {\n            console.clear();\n            count = 0;\n        }\n\n        let splitInput = value.split(\"\\n\");\n        console.groupCollapsed(`${size} =>`, `${splitInput[0]}${splitInput.length > 1 ? \"\\n...\" : \"\"}`);\n        console.groupCollapsed(\"Input Code: \");\n        console.log(value);\n        console.groupEnd();\n        console.groupCollapsed(\"Bundled Code: \");\n        console.log(content);\n        console.groupEnd();\n        console.groupEnd();\n        count++;\n\n        bundleTime.textContent = `Bundled ${timeFormatter.format((Date.now() - start) / 1000, \"seconds\")}`;\n        fileSizeEl.textContent = `` + size;\n    };\n})();"],
  "mappings": "oEAEA,GAAO,GAAQ,yBCCf,GAAI,GAAqB,SAAS,cAAc,qBAC5C,EAAa,SAAS,cAAc,cACpC,EAAS,SAAS,cAAc,QAChC,EAAa,SAAS,cAAc,gBACpC,EAAO,EAAQ,CACf,OAAQ,EACR,QAAS,CAAC,EAAG,GACb,MAAO,IACP,OAAQ,UACR,SAAU,IACV,SAAU,KAGV,EAGJ,AAAC,UAAY,CAET,EAAS,AADI,MAAM,QAAO,yBACV,QAGhB,EAAK,OACL,KAAM,GAEN,WAAoB,SACpB,EAAK,OAEL,EAAqB,KACrB,EAAO,KAEP,GAAM,CAAE,WAAY,KAAM,QAAO,+BACjC,EAAQ,GAAG,aAAc,AAAC,GAAM,CAC5B,GAAI,GAAQ,GAAK,kBAAQ,YACzB,EAAO,SAAS,EAAQ;AAAA,EAAO,SAMvC,AAAC,KAAM,CACH,GAAM,GAAgB,GAAI,MAAK,mBAAmB,KAAM,CAAE,MAAO,SAAU,QAAS,SAG9E,EAAe,GAAI,QAAO,EAAoB,CAChD,KAAM,iBACN,KAAM,WAGN,EAAQ,EACR,EAAQ,GACR,EAAQ,KAAK,MAEjB,EAAO,iBAAiB,QAAS,IAAM,CACnC,EAAQ,GAAK,kBAAQ,YAErB,EAAW,UAAY,8BACvB,EAAW,YAAc,GAEzB,EAAQ,KAAK,MACb,EAAa,YAAY,KAG7B,EAAa,UAAY,CAAC,CAAE,UAAW,CACnC,GAAI,EAAK,KAAM,CACX,QAAQ,KAAK,EAAK,KAAO;AAAA,GACzB,OAGJ,GAAI,EAAK,MAAO,CACZ,EAAW,YAAc,MACzB,OAGJ,GAAI,EAAK,MAAO,CACZ,QAAQ,MAAM,EAAK,KAAO;AAAA,EAA8C,EAAK,OAC7E,EAAW,YAAc,QACzB,OAGJ,GAAI,CAAE,OAAM,WAAY,EAAK,MAE7B,AAAI,EAAQ,IACR,SAAQ,QACR,EAAQ,GAGZ,GAAI,GAAa,EAAM,MAAM;AAAA,GAC7B,QAAQ,eAAe,GAAG,OAAW,GAAG,EAAW,KAAK,EAAW,OAAS,EAAI;AAAA,KAAU,MAC1F,QAAQ,eAAe,gBACvB,QAAQ,IAAI,GACZ,QAAQ,WACR,QAAQ,eAAe,kBACvB,QAAQ,IAAI,GACZ,QAAQ,WACR,QAAQ,WACR,IAEA,EAAW,YAAc,WAAW,EAAc,OAAQ,MAAK,MAAQ,GAAS,IAAM,aACtF,EAAW,YAAc,GAAK",
  "names": []
}
