import{a as f}from"./chunk-347RQU7V.js";import"./chunk-HNNS32X4.js";var S=(e,t,n)=>{let o;return function(...l){let s=this,a=()=>{o=null,n||e.apply(s,l)},u=n&&!o;clearTimeout(o),o=setTimeout(a,t),u&&e.apply(s,l)}};var h="./js/esbuild.worker.js";var L=e=>{let t="https://api.npms.io",n=`${t}/v2/search?q=${encodeURIComponent(e)}&size=10`,o="",l=/([\S]+)@([\S]+)/g.exec(e);if(l){let[,s,a]=l;o=a,n=`${t}/v2/search?q=${encodeURIComponent(s)}&size=10`}return{url:n,version:o}};(async()=>{var a;let e=document.querySelector(".search input");(a=e==null?void 0:e.addEventListener)==null||a.call(e,"keydown",S(()=>{let{value:u}=e;if(u.length<=0)return;let{url:E,version:v}=L(u);(async()=>{var w;let m=await(await fetch(E)).json();n((w=m==null?void 0:m.results.map(C=>{let{name:b,description:k,date:x,publisher:q}=C.package;return{name:b,description:k,date:x,version:v,author:q.username}}))!=null?w:[])})()},125));let{renderComponent:t,setState:n}=await import("./SearchResults-ZISVVPRP.js"),l=document.querySelector(".search-container").querySelector(".search-results-container");l&&t(l);let s=document.querySelector(".search .clear");s==null||s.addEventListener("click",()=>{e.value="",n([])})})();var R=new Intl.RelativeTimeFormat("en",{style:"narrow",numeric:"auto"}),i=document.querySelector(".file-size"),T=document.querySelector("#run"),p=document.querySelector("#bundle-time"),d=new Worker(h,{name:"esbuild-worker"}),y=0,c="",g=Date.now();d.onmessage=({data:e})=>{if(e.warn){console.warn(e.warn+` 
`);return}if(e.ready){i.textContent="...";return}if(e.error){console.error(e.type+` (please create a new issue in the repo)
`,e.error),i.textContent="Error";return}let{size:t,content:n}=e.value;y>10&&(console.clear(),y=0);let o=c.split(`
`);console.groupCollapsed(`${t} =>`,`${o[0]}${o.length>1?`
...`:""}`),console.groupCollapsed("Input Code: "),console.log(c),console.groupEnd(),console.groupCollapsed("Bundled Code: "),console.log(n),console.groupEnd(),console.groupEnd(),y++,p.textContent=`Bundled ${R.format((Date.now()-g)/1e3,"seconds")}`,i.textContent=""+t};var r;(async()=>{let e=document.querySelector(".center-container"),t=f({target:e,opacity:[1,0],delay:1e3,easing:"ease-in",duration:500,autoplay:!1});r=(await import("./monaco-XOA2UOXZ.js")).build(),t.play(),await t,e==null||e.remove(),t.stop(),e=null,t=null,T.addEventListener("click",()=>{c=""+(r==null?void 0:r.getValue()),i.innerHTML='<div class="loading"></div>',p.textContent="",g=Date.now(),d.postMessage(c)});let{Emitter:o}=await import("./SearchResults-ZISVVPRP.js");o.on("add-module",l=>{let s=""+(r==null?void 0:r.getValue());r.setValue(s+`
`+l)}),location.search&&setTimeout(()=>{c=""+(r==null?void 0:r.getValue()),i.innerHTML='<div class="loading"></div>',p.textContent="",g=Date.now(),d.postMessage(c)},100)})();
//# sourceMappingURL=index.min.js.map
