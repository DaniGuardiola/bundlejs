import{a as f}from"./chunk-V2Z4G4KC.js";import"./chunk-G7J4SJES.js";var v=(e,n,s)=>{let t;return function(...o){let a=this,r=()=>{t=null,s||e.apply(a,o)},p=s&&!t;clearTimeout(t),t=setTimeout(r,n),p&&e.apply(a,o)}};var S="./js/esbuild.worker.js";var h=e=>{let n="https://api.npms.io",s=`${n}/v2/search?q=${encodeURIComponent(e)}&size=10`,t="",o=/([\S]+)@([\S]+)/g.exec(e);if(o){let[,a,r]=o;t=r,s=`${n}/v2/search?q=${encodeURIComponent(a)}&size=10`}return{url:s,version:t}};(async()=>{var a;let e=document.querySelector(".search input");(a=e==null?void 0:e.addEventListener)==null||a.call(e,"keydown",v(()=>{let{value:r}=e;if(r.length<=0)return;let{url:p,version:m}=h(r);(async()=>{var u;let c=await(await fetch(p)).json();s((u=c==null?void 0:c.results.map(d=>{let{name:l,description:i,date:g,publisher:w}=d.package;return{name:l,description:i,date:g,version:m,author:w.username}}))!=null?u:[])})()},125));let{renderComponent:n,setState:s}=await import("./SearchResults-VGORUEDH.js"),t=document.querySelector(".search-results-container");t&&n(t);let o=document.querySelector(".search .clear");o==null||o.addEventListener("click",()=>{e.value="",s([])})})();window.requestIdleCallback(()=>{(async()=>{let e=document.querySelector(".center-container"),n=f({target:e,opacity:[1,0],delay:1e3,easing:"ease-in",duration:500,autoplay:!1}),t=(await import("./monaco-Q36HBCYX.js")).build();n.play(),await n,e==null||e.remove(),n.stop(),e=null,n=null;let{Emitter:o}=await import("./SearchResults-VGORUEDH.js");o.on("add-module",l=>{let i=""+(t==null?void 0:t.getValue());t.setValue(i+`
`+l)});let a=new Intl.RelativeTimeFormat("en",{style:"narrow",numeric:"auto"}),r=document.querySelector(".file-size"),p=document.querySelector("#run"),m=document.querySelector("#bundle-time"),y=new Worker(S,{name:"esbuild-worker",type:"module"}),c=0,u="",d=Date.now();p.addEventListener("click",()=>{u=""+(t==null?void 0:t.getValue()),r.innerHTML='<div class="loading"></div>',m.textContent="",d=Date.now(),y.postMessage(u)}),y.onmessage=({data:l})=>{if(l.warn){console.warn(l.warn+` 
`);return}if(l.ready){r.textContent="...";return}if(l.error){console.error(l.type+` (please create a new issue in the repo)
`,l.error),r.textContent="Error";return}let{size:i,content:g}=l.value;c>10&&(console.clear(),c=0);let w=u.split(`
`);console.groupCollapsed(`${i} =>`,`${w[0]}${w.length>1?`
...`:""}`),console.groupCollapsed("Input Code: "),console.log(u),console.groupEnd(),console.groupCollapsed("Bundled Code: "),console.log(g),console.groupEnd(),console.groupEnd(),c++,m.textContent=`Bundled ${a.format((Date.now()-d)/1e3,"seconds")}`,r.textContent=""+i}})()});
//# sourceMappingURL=index.min.js.map
