---
// Component Imports
import { Markdown } from "astro/components";
import Icon from "astro-icon";

import Anchor from "../Anchor.astro";
import SearchBar from "../Search/SearchBar.astro";
import ProductHunt from "../ProductHunt.astro";
---

<input type="text" id="copy-input" tabindex={-1} aria-hidden="true" />

<div class="container editor-section !max-w-screen-lg relative  px-10 !pt-0 pb-12">
  <div class="container info-pane">
    <div class="tab-btns flex flex-nowrap">
      <div class="action-btns">
        <button class="btn tab-style input-btn active" type="button">Input</button>
        <button class="btn tab-style output-btn umami--click--output-tab" type="button">Output</button>
        <button class="btn tab-style settings-btn umami--click--config-tab" type="button" title="Setting Buttons">
          <svg class="icon" width="24" height="24" fill="none" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
            <path
              d="M12.012 2.25c.734.008 1.465.093 2.182.253a.75.75 0 0 1 .582.649l.17 1.527a1.384 1.384 0 0 0 1.927 1.116l1.401-.615a.75.75 0 0 1 .85.174 9.792 9.792 0 0 1 2.204 3.792.75.75 0 0 1-.271.825l-1.242.916a1.381 1.381 0 0 0 0 2.226l1.243.915a.75.75 0 0 1 .272.826 9.797 9.797 0 0 1-2.204 3.792.75.75 0 0 1-.848.175l-1.407-.617a1.38 1.38 0 0 0-1.926 1.114l-.169 1.526a.75.75 0 0 1-.572.647 9.518 9.518 0 0 1-4.406 0 .75.75 0 0 1-.572-.647l-.168-1.524a1.382 1.382 0 0 0-1.926-1.11l-1.406.616a.75.75 0 0 1-.849-.175 9.798 9.798 0 0 1-2.204-3.796.75.75 0 0 1 .272-.826l1.243-.916a1.38 1.38 0 0 0 0-2.226l-1.243-.914a.75.75 0 0 1-.271-.826 9.793 9.793 0 0 1 2.204-3.792.75.75 0 0 1 .85-.174l1.4.615a1.387 1.387 0 0 0 1.93-1.118l.17-1.526a.75.75 0 0 1 .583-.65c.717-.159 1.45-.243 2.201-.252Zm0 1.5a9.135 9.135 0 0 0-1.354.117l-.109.977A2.886 2.886 0 0 1 6.525 7.17l-.898-.394a8.293 8.293 0 0 0-1.348 2.317l.798.587a2.881 2.881 0 0 1 0 4.643l-.799.588c.32.842.776 1.626 1.348 2.322l.905-.397a2.882 2.882 0 0 1 4.017 2.318l.11.984c.889.15 1.798.15 2.687 0l.11-.984a2.881 2.881 0 0 1 4.018-2.322l.905.396a8.296 8.296 0 0 0 1.347-2.318l-.798-.588a2.881 2.881 0 0 1 0-4.643l.796-.587a8.293 8.293 0 0 0-1.348-2.317l-.896.393a2.884 2.884 0 0 1-4.023-2.324l-.11-.976a8.988 8.988 0 0 0-1.333-.117ZM12 8.25a3.75 3.75 0 1 1 0 7.5 3.75 3.75 0 0 1 0-7.5Zm0 1.5a2.25 2.25 0 1 0 0 4.5 2.25 2.25 0 0 0 0-4.5Z" />
          </svg>
        </button>
      </div>
    </div>
    <div class="action-btns-overflow flex flex-grow lt-sm:hidden">
      <div class="flex-grow">

      </div>
      <div class="action-btns justify-end">
        <button class="btn build-btn umami--click--bundle-build-button" type="button">Build</button>
        <button class="btn btn-permalink share-btn umami--click--bundle-share-button" type="button">Share</button>
        <div class="file-size-container" title="Original -&gt; Compressed">
          <div class="file-size">Wait...</div>
        </div>
      </div>
    </div>
  </div>
  <div class="flex-wrapper">
    <div class="app" id="input">
      <div class="editor-container">
        <div class="center-container">
          <div class="loading"></div>
        </div>

        <div id="editor"></div>

        <div class="editor-btns overflow-hidden pt-24">
          <div class="flex-1"></div>
          <div class="relative">
            <div class="flex flex-wrap gap-2 editor-btn-container">
              <button class="icon-btn hide-btns umami--click--hide-editor-button" type="button"
                title="Hide Editor Buttons">
                <Icon name="fluent:more-24-regular" />
              </button>

              <div class="fading-editor-btns flex gap-1 lt-sm:flex-wrap">
                <button class="icon-btn clear-btn umami--click--clear-editor-button" type="button"
                  title="Clear code editor">
                  <Icon name="fluent:delete-24-regular" />
                </button>

                <button class="icon-btn prettier-btn umami--click--format-editor-button" type="button"
                  title="Format code using Prettier">
                  <Icon name="fluent:paint-brush-24-regular" />
                </button>

                <button class="icon-btn reset-btn umami--click--reset-editor-button" type="button" title="Reset code">
                  <Icon name="fluent:arrow-counterclockwise-28-filled" />
                </button>

                <div class="copy-container">
                  <button class="icon-btn editor-info opacity-0" tabindex={-1} aria-hidden="true">Copied!</button>
                  <button class="icon-btn copy-btn umami--click--copy-editor-button" type="button" title="Copy code">
                    <Icon name="fluent:copy-24-regular" />
                  </button>
                </div>

                <button class="icon-btn code-wrap-btn umami--click--codewrap-editor-button" type="button"
                  title="Toggle code wrap">
                  <Icon name="fluent:text-wrap-24-regular" />
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="drag-section dynamic">
      <div class="drag-handle umami--pointermove--code-seperator-drag-handle"></div>
    </div>

    <div class="app" id="console">
      <pre class="console pt-0 leading-[0]">
          <div class="console-btns">
            <p class="tab-style text-sm" id="console">Console</p>
            <div class="flex-grow">
            
          </div>
          <div class="action-btns-overflow">
            <div class="flex flex-nowrap action-btns gap-1">
            <button class="btn console-to-top-btn flex items-center justify-center border border-gray-300 dark:border-gray-600" type="button" title="Scroll to Top">
              <Icon name="fluent:arrow-up-24-regular" />
            </button>
            <button class="btn console-to-bottom-btn flex items-center justify-center border border-gray-300 dark:border-gray-600" type="button" title="Scroll to Bottom">
              <Icon name="fluent:arrow-down-24-regular" />
          </button>
            <button class="btn fold-unfold-console-btn flex items-center justify-center border border-gray-300 dark:border-gray-600" type="button" title="Fold/Unfold Console Lines">
              <Icon name="fluent:arrow-autofit-height-24-regular" />
          </button>
            <button class="btn clear-console-btn flex items-center justify-center border border-gray-300 dark:border-gray-600" type="button" title="Clear Console">
              <Icon name="fluent:delete-24-regular" />
          </button>
          </div>
        </div>
        </div>
          <code class="p-2 leading-normal min-h-10 no-highlight">
            <div class="py-3">
              <div class="content">
                <p class="px-4 hljs-literal">No logs...</p>
              </div>
            </div>
          </code>
        </pre>
    </div>
  </div>
  <div class="drag-section vertical" id="handle-2">
    <div class="drag-handle umami--pointermove--code-height-drag-handle"></div>
  </div>
  <div class="info-pane !pt-0">
    <div class="action-btns-overflow flex flex-grow sm:hidden">
      <div class="flex-grow">

      </div>
      <div class="action-btns justify-end">
        <button class="btn build-btn umami--click--bundle-build-button" type="button">Build</button>
        <button class="btn btn-permalink share-btn umami--click--bundle-share-button" type="button">Share</button>
        <div class="file-size-container" title="Original -&gt; Compressed">
          <div class="file-size">Wait...</div>
        </div>
      </div>
    </div>
  </div>
  <br />
  <details
    class="accordian umami--toggle--analysis-accordian bg-white border border-gray-300 dark:bg-elevated dark:border-gray-700 rounded-md"
    id="analysis">
    <summary>
      <p class="px-4 py-2 cursor-pointer select-none">Analysis</p>
    </summary>
    <div class="content pl-4 pr-2 py-4">
      <p>
        <!-- <Markdown>
            Enable the `analysis` config to view the size of output files with interactive zoomable charts.

            ```ts
            {
              "analysis": "treemap" | "network" | "sunburst" | true | false,
              "esbuild": { ... }
            }
            ```

          </Markdown> -->
      </p>
      <br />
      <div class="relative w-full">
        <div class="analyzer-loader">
          <div class="text-center">
            <p class="loader-content">Nothing to analyze...</p>
            <div class="loading hidden"></div>
          </div>
        </div>
        <iframe id="analyzer" src="about:blank" allowtransparency={true} sandbox="allow-scripts"></iframe>
        <div class="drag-section vertical" id="handle-3">
          <div class="drag-handle umami--pointermove--analysis-drag-handle"></div>
        </div>
      </div>
    </div>
  </details>
</div>