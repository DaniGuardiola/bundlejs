---
import BaseLayout from '../layouts/BaseLayout.astro';

import Container from "../components/Container";
import MainSection from '../components/MainSection/MainSection';

import IntroHeader from "../components/IntroHeader.astro";

import { default as Docs } from "../components/DocsSection/Docs.mdx";
import SearchContainer from '../components/MainSection/SearchSection/SearchContainer';
import EditorSection from '../components/MainSection/EditorSection/EditorSection';
import Analysis from '../components/MainSection/Analysis';
import DragHandle from '../components/MainSection/EditorSection/DragHandle';
import Footer from '../components/Footer.astro';
---

<BaseLayout>
  <div class="parent-grid">
    <div class="grid-content @container">
      <div class="grid-editor">
        <MainSection client:load />
      </div>
    </div>

    <div class="grid-handle">
      <DragHandle
        client:load
        direction={"x"}
      />
    </div>
    
    <div class="grid-docs">
      <Container class="col">
        <IntroHeader 
          title="bundlejs" 
          subtitle="A quick and easy way to bundle, minify, and compress your ts, js, jsx and npm packages, while viewing the file size of the final bundle." 
          mobile="Quickly bundle js & view the file size."
        />
        <SearchContainer client:only onKeyUp={() => {}}/>
        <Docs />
        <Footer />
      </Container> 
    </div>
  </div>
</BaseLayout>

<script>
  import "../scripts/index";
</script>

<style lang="scss">
  .parent-grid {
    @apply flex;
    @apply relative w-full;
    
    .grid-content {
      @apply relative;
      @apply w-3/4;

      .grid-editor {
        @apply sticky top-[var(--navbar-height)];
        height: calc(100dvh - var(--navbar-height));
        @apply flex;
      }
    }

    .grid-handle {
      @apply relative;
      @apply flex-grow-0;

      :global(.drag-handle) {
        @apply sticky top-[var(--navbar-height)];
        height: calc(100dvh - var(--navbar-height));
        @apply flex; 
      }
    }

    .grid-docs {
      @apply relative;

      min-width: 200px;
    }
  }
</style>
